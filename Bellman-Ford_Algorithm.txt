#include <stdio.h>

int BellmanFord(int graph[5][5], int nodes) {
    int distance[nodes];
    int source;
    
    for(int k=0; k<nodes; k++) {
        distance[k] = 9999;
    }
    printf("Enter source: ");
    scanf("%d", &source);
    distance[source] = 0;
    for(int i=0; i<nodes-1; i++) {
        for(int j=0; j<nodes; j++){
            for(int k=0; k<nodes; k++) {
                
                if(graph[j][k] != 0 && distance[k] > distance[j] + graph[j][k]) {
                    distance[k] = distance[j] + graph[j][k];
                }
            }
        }
    }
    for(int j=0; j<nodes; j++){
        for(int k=0; k<nodes; k++) {
                
            if(graph[j][k] != 0 && distance[k] > distance[j] + graph[j][k]) {
               return 0;
            }
        }
    }
    
    for(int m=0; m<nodes; m++) {
        printf("\nDistance from source to %d: %d", m, distance[m]);
    }
    return 1;
}
int main()
{
    int n = 5;
    int graph[5][5] = { {0,6,0,7,0},
    {0, 0, 5, 8, -4},
    {0, -2, 0, 0, 0},
    {0,0,-3,0,9},
    {2, 0, 7, 0, 0}
    };
    
    if (BellmanFord(graph, 5)) {
        printf("\nNo negative edge cycle");
    } else {
        printf("\nNegative edge cycle present.");
    }

    return 0;
}
